<h1>util.js</h1>
<pre><code class="lang-js"><span class="comment">// Copyright Joyent, Inc. and other Node contributors.</span>
<span class="comment">//</span>
<span class="comment">// Permission is hereby granted, free of charge, to any person obtaining a</span>
<span class="comment">// copy of this software and associated documentation files (the</span>
<span class="comment">// "Software"), to deal in the Software without restriction, including</span>
<span class="comment">// without limitation the rights to use, copy, modify, merge, publish,</span>
<span class="comment">// distribute, sublicense, and/or sell copies of the Software, and to permit</span>
<span class="comment">// persons to whom the Software is furnished to do so, subject to the</span>
<span class="comment">// following conditions:</span>
<span class="comment">//</span>
<span class="comment">// The above copyright notice and this permission notice shall be included</span>
<span class="comment">// in all copies or substantial portions of the Software.</span>
<span class="comment">//</span>
<span class="comment">// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS</span>
<span class="comment">// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<span class="comment">// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN</span>
<span class="comment">// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,</span>
<span class="comment">// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR</span>
<span class="comment">// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE</span>
<span class="comment">// USE OR OTHER DEALINGS IN THE SOFTWARE.</span>

<span class="comment">// NOTE: These type checking functions intentionally don't use `instanceof`</span>
<span class="comment">// because it is fragile and can be easily faked with `Object.create()`.</span>

<span class="function"><span class="keyword">function</span> <span class="title">isArray</span><span class="params">(arg)</span> {</span>
  <span class="keyword">if</span> (Array.isArray) {
    <span class="keyword">return</span> Array.isArray(arg);
  }
  <span class="keyword">return</span> objectToString(arg) === <span class="string">'[object Array]'</span>;
}
exports.isArray = isArray;

<span class="function"><span class="keyword">function</span> <span class="title">isBoolean</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> <span class="keyword">typeof</span> arg === <span class="string">'boolean'</span>;
}
exports.isBoolean = isBoolean;

<span class="function"><span class="keyword">function</span> <span class="title">isNull</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> arg === <span class="literal">null</span>;
}
exports.isNull = isNull;

<span class="function"><span class="keyword">function</span> <span class="title">isNullOrUndefined</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> arg == <span class="literal">null</span>;
}
exports.isNullOrUndefined = isNullOrUndefined;

<span class="function"><span class="keyword">function</span> <span class="title">isNumber</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> <span class="keyword">typeof</span> arg === <span class="string">'number'</span>;
}
exports.isNumber = isNumber;

<span class="function"><span class="keyword">function</span> <span class="title">isString</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> <span class="keyword">typeof</span> arg === <span class="string">'string'</span>;
}
exports.isString = isString;

<span class="function"><span class="keyword">function</span> <span class="title">isSymbol</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> <span class="keyword">typeof</span> arg === <span class="string">'symbol'</span>;
}
exports.isSymbol = isSymbol;

<span class="function"><span class="keyword">function</span> <span class="title">isUndefined</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> arg === <span class="keyword">void</span> <span class="number">0</span>;
}
exports.isUndefined = isUndefined;

<span class="function"><span class="keyword">function</span> <span class="title">isRegExp</span><span class="params">(re)</span> {</span>
  <span class="keyword">return</span> objectToString(re) === <span class="string">'[object RegExp]'</span>;
}
exports.isRegExp = isRegExp;

<span class="function"><span class="keyword">function</span> <span class="title">isObject</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> <span class="keyword">typeof</span> arg === <span class="string">'object'</span> &amp;&amp; arg !== <span class="literal">null</span>;
}
exports.isObject = isObject;

<span class="function"><span class="keyword">function</span> <span class="title">isDate</span><span class="params">(d)</span> {</span>
  <span class="keyword">return</span> objectToString(d) === <span class="string">'[object Date]'</span>;
}
exports.isDate = isDate;

<span class="function"><span class="keyword">function</span> <span class="title">isError</span><span class="params">(e)</span> {</span>
  <span class="keyword">return</span> (objectToString(e) === <span class="string">'[object Error]'</span> || e <span class="keyword">instanceof</span> Error);
}
exports.isError = isError;

<span class="function"><span class="keyword">function</span> <span class="title">isFunction</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> <span class="keyword">typeof</span> arg === <span class="string">'function'</span>;
}
exports.isFunction = isFunction;

<span class="function"><span class="keyword">function</span> <span class="title">isPrimitive</span><span class="params">(arg)</span> {</span>
  <span class="keyword">return</span> arg === <span class="literal">null</span> ||
         <span class="keyword">typeof</span> arg === <span class="string">'boolean'</span> ||
         <span class="keyword">typeof</span> arg === <span class="string">'number'</span> ||
         <span class="keyword">typeof</span> arg === <span class="string">'string'</span> ||
         <span class="keyword">typeof</span> arg === <span class="string">'symbol'</span> ||  <span class="comment">// ES6 symbol</span>
         <span class="keyword">typeof</span> arg === <span class="string">'undefined'</span>;
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = Buffer.isBuffer;

<span class="function"><span class="keyword">function</span> <span class="title">objectToString</span><span class="params">(o)</span> {</span>
  <span class="keyword">return</span> Object.prototype.toString.call(o);
}
</code></pre>